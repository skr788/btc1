webpackJsonp([48],{108:function(e,t,n){"use strict";function i(e){var t=e.className,n=e.icon,i=void 0===n?"":n,o=e.onClick,r=e.title;return a.createElement("span",{title:r,className:t,dangerouslySetInnerHTML:{__html:i},onClick:o})}var a;t.a=i,a=n(16),n.n(a)},1145:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 10" width="20" height="10"><path fill="none" stroke="currentColor" stroke-width="1.5" d="M2 1l8 8 8-8"/></svg>'},1167:function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 17" width="17" height="17"><path fill="none" stroke="currentColor" d="M1 1l15 15M1 16L16 1"/></svg>'},1370:function(e,t,n){"use strict";function i(){return new Promise(function(e){n.e(100).then(function(t){var i=n(2913).LoadChartDialog;e(new i)}.bind(null,n)).catch(n.oe)})}function a(){return o.enabled("saveload_requires_authentication")&&!window.is_authenticated?Promise.resolve([]):new Promise(function(e){Object(c.getCharts)(function(t){e(t)})})}var o,r,s,l,c,u,h,d,f,_;Object.defineProperty(t,"__esModule",{value:!0}),o=n(3),r=n(1),s=n(1936),l=function(e){function t(t,n){return e.call(this,t,n,"FAVORITE_CHARTS_CHANGED","loadChartDialog.favorites",{})||this}return r.__extends(t,e),t}(s.b),c=n(554),u=n(2248),h=n(34),d=n(44),f=n(2023),n.d(t,"LoadChartService",function(){return _}),_=function(){function e(e){void 0===e&&(e=null);var t=this;this._favoriteChartsService=new l(h.TVXWindowEvents,d),this._chartWidgetCollection=null,this._dialogPromise=null,this._getChartEntry=function(e){return{id:e.id,url:e.url,title:e.name,symbol:e.short_symbol,interval:e.interval,toolsCount:0,modified:e.modified_iso,active:function(){return t._isActiveChart(e.id)},openAction:function(){return Object(c.loadChart)(e)},deleteAction:function(n,i){Object(u.deleteChart)(i,e.image_url,function(){t._deleteChart(e.id),n.resolve()},n.reject.bind(n))},favoriteAction:t._updateFavorites}},this._updateFavorites=function(e){return t._favoriteChartsService.set(e)},this._isActiveChart=function(e){return null!==t._chartWidgetCollection&&e===t._chartWidgetCollection.metaInfo.id.value()},this._deleteChart=function(e){t._isActiveChart(e)&&(o.enabled("saveload_storage_customization")?null!==t._chartWidgetCollection&&t._chartWidgetCollection.clearChartMetaInfo():location.href="/chart/")},this._chartWidgetCollection=e}return e.prototype.showLoadDialog=function(){Object(f.a)(this._showLoadDialog.bind(this),{source:"Load chart",sourceMeta:"Chart"})},e.prototype._showLoadDialog=function(){var e=this;a().then(function(t){return t.map(e._getChartEntry)}).then(function(t){null===e._dialogPromise&&(e._dialogPromise=i()),e._dialogPromise.then(function(n){return n.show(t,e._favoriteChartsService.get())})})},e}()},1819:function(e,t,n){"use strict";function i(e){var t,n=e.children,i=e.className,a=e.noLeftDecoration,o=e.noRightDecoration,r=e.noMinimalWidth;return h.createElement("div",{className:_(i,M.group,(t={},t[M.noMinimalWidth]=r,t[M.noLeftDecoration]=a,t[M.noRightDecoration]=o,t))},n)}function a(e){
return h.createElement(k.a,c.__assign({},e,{forceInteractive:!0,icon:R}))}function o(e){return h.createElement("div",{className:L.wrap},h.createElement(O.a,{className:L.icon,icon:T}),V.text)}function r(e){return[e.findIndex(function(e){return h.isValidElement(e)&&!!e.key&&-1!==(""+e.key).indexOf("view-only-badge")}),e.findIndex(function(e){return h.isValidElement(e)&&!!e.key&&-1!==(""+e.key).indexOf("blue-screenshot")}),e.findIndex(function(e){return h.isValidElement(e)&&!!e.key&&-1!==(""+e.key).indexOf("popup")})].filter(function(e){return e>=0}).forEach(function(t){e=h.Children.map(e,function(e,n){var i,a,o;if(h.isValidElement(e))switch([t-1,t,t+1].indexOf(n)){case 0:i={noRightDecoration:!0},e=h.cloneElement(e,i);break;case 1:a={noLeftDecoration:!0,noRightDecoration:!0},e=h.cloneElement(e,a);break;case 2:o={noLeftDecoration:!0},e=h.cloneElement(e,o)}return e})}),e}function s(e){void 0===e&&(e=[]);var t=e.map(function(e){return de[e]})||[y.STYLE_CANDLES,y.STYLE_RENKO,y.STYLE_KAGI,y.STYLE_PNF];return Object(g.isOnFeaturePage)()&&!m.enabled("charting_library_base")&&(t=[]),m.enabled("widget")&&(t=[y.STYLE_BARS,y.STYLE_CANDLES,y.STYLE_AREA]),t}function l(e){return void 0===e&&(e=[]),Object(J.mergeResolutions)(e,m.enabled("star_some_intervals_by_default")?fe:[])}var c,u,h,d,f,_,p,v,m,b,y,g,S,C,w,E,M,A,W,k,R,O,L,T,V,N,I,D,x,B,P,F,j,H,z,G,U,Y,K,q,J,Q,X,Z,ee,te,ne,ie,ae,oe,re,se,le,ce,ue,he,de,fe,_e,pe,ve;Object.defineProperty(t,"__esModule",{value:!0}),c=n(1),u=n(13),h=n(16),d=n(344),f=n(394),_=n(62),p=n(116),v=n.n(p),m=n(3),b=n(100),y=n(99),g=n(20),S=n(61),C=n.n(S),w=n(72),E=n(19),M=n(2888),A=n(2889),W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleMeasure=function(e){var n=e.width;t.props.onWidthChange(n)},t}return c.__extends(t,e),t.prototype.render=function(){var e=this.props.children;return h.createElement(f,{onMeasure:this._handleMeasure,whitelist:["width"]},h.createElement("div",{className:A.wrap},e))},t}(h.PureComponent),k=n(1849),R=n(1167),n(2),O=n(108),L=n(2890),T=n(654),V={text:window.t("View Only Mode")},N=n(73),I=n(478),D=n(2891),x=n(29),B=n(1145),P=n(24),F=function(e){function t(t){var n=e.call(this,t)||this;return n._wrapMeasureRef=null,n._contentMeasureRef=null,n._handleScrollLeft=function(){n.animateTo(Math.max(0,n.currentPosition()-(n.state.widthWrap-50)))},n._handleScrollRight=function(){n.animateTo(Math.min((n.state.widthContent||0)-(n.state.widthWrap||0),n.currentPosition()+(n.state.widthWrap-50)))},n._handleResizeWrap=function(e){var t=e.width;n.setState({widthWrap:t}),n._checkButtonsVisibility()},n._handleResizeContent=function(e){var t=e.width;n.setState({widthContent:t})},n._handleScroll=function(){var e=n.props.onScroll;e&&e(n.currentPosition(),n.isAtLeft(),n.isAtRight()),n._checkButtonsVisibility()},n._checkButtonsVisibility=function(){var e,t,i,a,o;(n.props.isVisibleButtons||n.props.isVisibleFade)&&(e=n.state,t=e.isVisibleLeftButton,i=e.isVisibleRightButton,a=n.isAtLeft(),o=n.isAtRight(),a||t?a&&t&&n.setState({isVisibleLeftButton:!1}):n.setState({
isVisibleLeftButton:!0}),o||i?o&&i&&n.setState({isVisibleRightButton:!1}):n.setState({isVisibleRightButton:!0}))},n._setWrapMeasureRef=function(e){n._wrapMeasureRef=e},n._setContentMeasureRef=function(e){n._contentMeasureRef=e},n.state={widthContent:0,widthWrap:0,isVisibleRightButton:!1,isVisibleLeftButton:!1},n}return c.__extends(t,e),t.prototype.componentDidMount=function(){this._checkButtonsVisibility()},t.prototype.componentDidUpdate=function(e,t){t.widthWrap===this.state.widthWrap&&t.widthContent===this.state.widthContent||this._handleScroll(),this.props.shouldMeasure&&this._wrapMeasureRef&&this._contentMeasureRef&&(this._wrapMeasureRef.measure(),this._contentMeasureRef.measure())},t.prototype.currentPosition=function(){return this._scroll?P.IS_RTL?Object(P.getLTRScrollLeft)(this._scroll):this._scroll.scrollLeft:0},t.prototype.isAtLeft=function(){return this.currentPosition()<=1},t.prototype.isAtRight=function(){return this.currentPosition()+this.state.widthWrap>=this.state.widthContent-1},t.prototype.animateTo=function(e,t){if(void 0===t&&(t=x.dur),this._scroll){P.IS_RTL&&(e=Object(P.getLTRScrollLeftOffset)(this._scroll,e));var n=N.findDOMNode(this._scroll);Object(I.doAnimate)({onStep:function(e,t){n.scrollLeft=Math.round(t)},from:n.scrollLeft,to:Math.round(e),easing:x.easingFunc.easeInOutCubic,duration:t})}},t.prototype.render=function(){var e,t,n,i,a,o=this,r=this.props,s=r.children,l=r.isVisibleScrollbar,c=r.isVisibleFade,u=r.isVisibleButtons,d=r.shouldMeasure,p=this.state,v=p.widthContent,m=p.widthWrap,b=p.isVisibleRightButton,y=p.isVisibleLeftButton;return h.createElement(f,{whitelist:["width"],onMeasure:this._handleResizeWrap,shouldMeasure:d,ref:this._setWrapMeasureRef},h.createElement("div",{className:D.wrap},h.createElement("div",{className:_(D.scrollWrap,(e={},e[D.noScrollBar]=!l,e)),onScroll:this._handleScroll,ref:function(e){return o._scroll=e}},h.createElement(f,{onMeasure:this._handleResizeContent,whitelist:["width"],shouldMeasure:d,ref:this._setContentMeasureRef},h.createElement("div",{className:D.content},s))),c&&h.createElement("div",{className:_(D.fadeLeft,(t={},t[D.isVisible]=y&&v>m,t))}),c&&h.createElement("div",{className:_(D.fadeRight,(n={},n[D.isVisible]=b&&v>m,n))}),u&&h.createElement("div",{className:_(D.scrollLeft,(i={},i[D.isVisible]=y&&v>m,i)),onClick:this._handleScrollLeft},h.createElement("div",{className:D.iconWrap},h.createElement(O.a,{icon:B,className:D.icon}))),u&&h.createElement("div",{className:_(D.scrollRight,(a={},a[D.isVisible]=b&&v>m,a)),onClick:this._handleScrollRight},h.createElement("div",{className:D.iconWrap},h.createElement(O.a,{icon:B,className:D.icon})))))},t.defaultProps={isVisibleScrollbar:!0,shouldMeasure:!0},t}(h.PureComponent),j=n(2892),function(e){e.SymbolSearch="header-toolbar-symbol-search",e.Intervals="header-toolbar-intervals",e.ChartStyles="header-toolbar-chart-styles",e.Compare="header-toolbar-compare",e.Indicators="header-toolbar-indicators",e.StudyTemplates="header-toolbar-study-templates",e.Alerts="header-toolbar-alerts",
e.Layouts="header-toolbar-layouts",e.SaveLoad="header-toolbar-save-load",e.UndoRedo="header-toolbar-undo-redo",e.Properties="header-toolbar-properties"}(H||(H={})),z=Object(E.isFeatureEnabled)("hide-copy-readonly"),G=function(e){function t(t,n){var a=e.call(this,t,n)||this;return a._activateSymbolSearchMode=function(){a._setMode(2)},a._activateNormalMode=function(){a._setMode(1)},a._handleInnerMeasure=function(e){var t=a.props.onWidthChange;t&&t(e)},a._processCustoms=function(e){var t=a.props.isFake,n=a.state.mode,o=a.context.tools;return e.map(function(e){return h.createElement(i,{className:_(1!==n&&j.hidden)},h.createElement(o.Custom,c.__assign({},e,{isFake:t})))})},a.state={mode:1},a}return c.__extends(t,e),t.prototype.render=function(){var e,t=this.context.tools,n=this.props,s=n.features,l=n.displayMode,c=n.chartSaver,u=n.studyMarket,d=n.readOnly,f=n.templateSyncEmitter,p=n.saveLoadSyncEmitter,v=n.leftCustomButtons,m=n.rightCustomButtons,b=n.showScrollbarWhen,y=n.width,g=void 0===y?0:y,S=n.isFake,C=void 0!==S&&S,w=this.state.mode,E=this._processCustoms(v),M=this._processCustoms(m),A=b.includes(l);return h.createElement("div",{className:_(j.inner,(e={},e[j.fake]=C,e))},h.createElement(F,{isVisibleFade:Modernizr.touch&&A,isVisibleButtons:!Modernizr.touch&&A,isVisibleScrollbar:!1,shouldMeasure:A&&!C},h.createElement(W,{onWidthChange:this._handleInnerMeasure},!d&&h.Children.toArray([t.SymbolSearch&&h.createElement(i,{key:"symbol",className:2===w&&j.symbolSearch},h.createElement(t.SymbolSearch,{id:C?void 0:H.SymbolSearch,isActionsVisible:s.allowSymbolSearchSpread,isExpanded:2===w,onFocus:this._activateSymbolSearchMode,onBlur:this._activateNormalMode,maxWidth:g})),t.DateRange&&h.createElement(i,{key:"range"},h.createElement(t.DateRange,null)),t.Intervals&&1===w&&h.createElement(i,{key:"intervals"},h.createElement(t.Intervals,{id:C?void 0:H.Intervals,isShownQuicks:s.allowFavoriting,isFavoritingAllowed:s.allowFavoriting,displayMode:l,isFake:C})),t.Bars&&1===w&&h.createElement(i,{key:"styles"},h.createElement(t.Bars,{id:C?void 0:H.ChartStyles,isShownQuicks:s.allowFavoriting,isFavoritingAllowed:s.allowFavoriting,displayMode:l,isFake:C})),t.Compare&&1===w&&h.createElement(i,{key:"compare"},h.createElement(t.Compare,{id:C?void 0:H.Compare,className:j.button,displayMode:l})),1===w&&(t.Compare||t.Indicators)&&h.createElement(i,{key:"study"},h.createElement("div",{className:j.subGroup},t.Indicators&&h.createElement(t.Indicators,{id:C?void 0:H.Indicators,className:j.button,studyMarket:u,displayMode:l}),t.Templates&&h.createElement(t.Templates,{id:C?void 0:H.StudyTemplates,isShownQuicks:s.allowFavoriting,isFavoritingAllowed:s.allowFavoriting,displayMode:l,stateSyncEmitter:f,isFake:C}))),1===w&&t.Alert&&h.createElement(i,{key:"alert"},h.createElement(t.Alert,{id:C?void 0:H.Alerts,className:j.button,displayMode:l})),1===w&&t.AlertReferral&&h.createElement(i,{key:"alert-referral"},h.createElement(t.AlertReferral,{className:j.button,displayMode:l})),t.Replay&&1===w&&h.createElement(i,{key:"replay"},h.createElement(t.Replay,{
className:j.button,displayMode:l})),t.UndoRedo&&1===w&&h.createElement(i,{key:"undo-redo"},h.createElement(t.UndoRedo,{id:C?void 0:H.UndoRedo})),t.ScalePercentage&&h.createElement(i,{key:"percentage"},h.createElement(t.ScalePercentage,null)),t.ScaleLogarithm&&h.createElement(i,{key:"logarithm"},h.createElement(t.ScaleLogarithm,null))].concat(E)),1===w?r(h.Children.toArray([d&&h.createElement(i,{key:"view-only-badge"},h.createElement(o,null)),h.createElement(i,{key:"gap",className:_(j.fill)}),!d&&t.Layout&&h.createElement(i,{key:"layout"},h.createElement(t.Layout,{id:C?void 0:H.Layouts})),t.Screenshot&&!s.accentScreenshotButton&&h.createElement(i,{key:"screenshot"},h.createElement(t.Screenshot,{className:j.iconButton})),t.SaveLoad&&!(d&&z)&&h.createElement(i,{key:"save-load-right"},h.createElement(t.SaveLoad,{id:C?void 0:H.SaveLoad,chartSaver:c,isReadOnly:d,displayMode:l,isFake:C,stateSyncEmitter:p})),t.SaveLoadReferral&&h.createElement(i,{key:"save-load-referral"},h.createElement(t.SaveLoadReferral,{isReadOnly:d,displayMode:l})),s.showLaunchInPopupButton&&t.OpenPopup&&h.createElement(i,{key:"popup"},h.createElement(t.OpenPopup,{className:_(j.iconButton,j.popupButton)})),t.Screenshot&&s.accentScreenshotButton&&h.createElement(i,{key:"blue-screenshot"},h.createElement(t.Screenshot,{color:"blue",className:j.iconButton})),!d&&t.Properties&&h.createElement(i,{key:"properties"},h.createElement(t.Properties,{id:C?void 0:H.Properties,className:j.iconButton})),!d&&t.Fullscreen&&h.createElement(i,{key:"fullscreen"},h.createElement(t.Fullscreen,null))].concat(M))):[h.createElement(i,{key:"gap",className:_(j.fill,2===w&&j.minimalPriority)}),h.createElement(i,{key:"symbol-search-close"},h.createElement(a,{className:j.iconButton}))])))},t.prototype._setMode=function(e){this.setState({mode:e})},t.contextTypes={tools:d.object.isRequired},t}(h.PureComponent),U=n(25),Y=n.n(U),K=n(1936),q=function(e){function t(t,n,i){return void 0===i&&(i=[]),e.call(this,t,n,"FAVORITE_CHART_STYLES_CHANGED","StyleWidget.quicks",i)||this}return c.__extends(t,e),t}(K.b),J=n(142),Q=n(50),X=n.n(Q),Z=function(e){function t(t,n,i){return e.call(this,t,n,"FAVORITE_INTERVALS_CHANGED","IntervalWidget.quicks",i)||this}return c.__extends(t,e),t.prototype._serialize=function(e){return X()(e.map(J.normalizeIntervalString))},t.prototype._deserialize=function(e){return X()(Object(J.convertResolutionsFromSettings)(e).filter(J.isResolutionMultiplierValid).map(J.normalizeIntervalString))},t}(K.a),ee=n(1870),te=n(1834),ne=n(1847),ie=n(22),ae=n(419),oe=n.n(ae),re=n(23),se=function(e){function t(t,n,i){return void 0===i&&(i=[]),e.call(this,t,n,"CUSTOM_INTERVALS_CHANGED","IntervalWidget.intervals",i)||this}return c.__extends(t,e),t.prototype.set=function(t,n){var i=this;oe()("customIntervals"),window.TradingView.runOrGoPro(function(){return e.prototype.set.call(i,t,n)},re.ProductFeatures.CUSTOM_INTERVALS,{feature:"customIntervals"})},t.prototype._serialize=function(e){return X()(e.map(J.normalizeIntervalString))},t.prototype._deserialize=function(e){
return X()(Object(J.convertResolutionsFromSettings)(e).filter(J.isResolutionMultiplierValid).map(J.normalizeIntervalString))},t}(K.a),le=n(34),ce=n(44),ue=n(643),he=n(2893),n.d(t,"HeaderToolbar",function(){return ve}),de={Area:y.STYLE_AREA,Bars:y.STYLE_BARS,Candles:y.STYLE_CANDLES,"Heiken Ashi":y.STYLE_HEIKEN_ASHI,"Hollow Candles":y.STYLE_HOLLOW_CANDLES,Line:y.STYLE_LINE},fe=["1","30","60"],_e=[],pe=["full","medium"],ve=function(e){function t(t){var n,i,a,o,r=e.call(this,t)||this;return r._templateSyncEmitter=new v.a,r._saveLoadSyncEmitter=new v.a,r._handleFullWidthChange=function(e){r._fullWidth=e,r.setState({measureValid:!1})},r._handleFavoritesWidthChange=function(e){r._favoritesWidth=e,r.setState({measureValid:!1})},r._handleCollapseWidthChange=function(e){r._collapseWidth=e,r.setState({measureValid:!1})},r._handleMeasure=function(e){var t=e.width;r.setState({availableWidth:t,measureValid:!1})},r._handleEsc=function(){Object(ne.b)()},r._showScrollbarWhen=t.allowedModes.slice(-1),n=t.chartWidgetCollection,i=t.chartChangesWatcher,r._chartChangesWatcher=i,a=s(r.props.defaultFavoriteStyles),r._favoriteChartStylesService=new q(le.TVXWindowEvents,ce,a),o=l(r.props.defaultFavoriteIntervals),r._favoriteIntervalsService=new Z(le.TVXWindowEvents,ce,o),r._customIntervalsService=new se(le.TVXWindowEvents,ce),r.state={isVisible:!0,availableWidth:0,displayMode:"full",measureValid:!1,leftCustomButtons:[],rightCustomButtons:[]},r._readOnly=n.readOnly(),r._features={accentScreenshotButton:!!r.props.accentScreenshot,allowFavoriting:m.enabled("items_favoriting"),showIdeasButton:!!r.props.ideas,showLaunchInPopupButton:!!r.props.popupButton,allowSymbolSearchSpread:m.enabled("header_symbol_search")&&!m.enabled("charting_library_base"),allowToolbarHiding:m.enabled("collapsible_header")},r._setDisplayMode=C()(r._setDisplayMode,100),r._negotiateResizer(),r}return c.__extends(t,e),t.prototype.getChildContext=function(){var e=this.props,t=e.tools,n=e.windowMessageService,i=e.chartWidgetCollection,a=e.chartApiInstance,o=e.availableTimeFrames;return{tools:t,isFundamental:e.isFundamental,chartWidgetCollection:i,windowMessageService:n,chartApiInstance:a,availableTimeFrames:o,favoriteStudyTemplatesService:e.favoriteStudyTemplatesService,studyTemplates:e.studyTemplates,saveChartService:e.saveChartService,loadChartService:e.loadChartService,favoriteChartStylesService:this._favoriteChartStylesService,favoriteIntervalsService:this._favoriteIntervalsService,customIntervalsService:this._customIntervalsService,chartChangesWatcher:this._chartChangesWatcher,chartWidget:i.activeChartWidget.value()}},t.prototype.componentDidUpdate=function(e,t){var n=this.state,i=n.isVisible,a=n.measureValid;i!==t.isVisible&&(b.emit("toggle_header",i),this._negotiateResizer()),a||this._setDisplayMode()},t.prototype.render=function(){var e,t=this.props,n=(t.resizerBridge,t.allowedModes),i=c.__rest(t,["resizerBridge","allowedModes"]),a=this.state,o=a.displayMode,r=a.availableWidth,s=a.isVisible,l=a.leftCustomButtons,u=a.rightCustomButtons,d=c.__assign({
features:this._features,readOnly:this._readOnly,isFake:!1,templateSyncEmitter:this._templateSyncEmitter,saveLoadSyncEmitter:this._saveLoadSyncEmitter,width:r,leftCustomButtons:l,rightCustomButtons:u},i),p=c.__assign({},d,{isFake:!0,showScrollbarWhen:_e});return h.createElement("div",{className:_(he.toolbar,(e={},e[he.isHidden]=!s,e))},h.createElement("div",{className:he.overflowWrap},h.createElement(f,{onMeasure:this._handleMeasure,whitelist:["width"]},h.createElement(G,c.__assign({showScrollbarWhen:this._showScrollbarWhen,displayMode:o},d))),n.includes("full")&&h.createElement(G,c.__assign({displayMode:"full",onWidthChange:this._handleFullWidthChange},p)),n.includes("medium")&&h.createElement(G,c.__assign({displayMode:"medium",onWidthChange:this._handleFavoritesWidthChange},p)),n.includes("small")&&h.createElement(G,c.__assign({displayMode:"small",onWidthChange:this._handleCollapseWidthChange},p))),h.createElement(ee.a,{keyCode:te.a.Escape,handler:this._handleEsc}))},t.prototype.addButton=function(e){var t,n,i,a,o,r;return void 0===e&&(e="left"),t=new Y.a(0),n=$('<div class="apply-common-tooltip '+he.customButton+'">'),i={key:+new Date,jquery:n,width:t},a=this.state,o=a.leftCustomButtons,r=a.rightCustomButtons,"left"===e?this.setState({leftCustomButtons:o.concat([i])}):this.setState({rightCustomButtons:r.concat([i])}),n},t.prototype._negotiateResizer=function(){this.props.resizerBridge.negotiateHeight(this.state.isVisible?ue.HEADER_TOOLBAR_HEIGHT_EXPANDED:ue.HEADER_TOOLBAR_HEIGHT_COLLAPSED)},t.prototype._setDisplayMode=function(){var e,t,n=this.state.availableWidth,i=this.props.allowedModes,a=(e={},e.full=this._fullWidth,e.medium=this._favoritesWidth,e.small=this._collapseWidth,e),o=i.map(function(e){return a[e]}),r=o.findIndex(function(e){return n>=e});-1===r&&(r=i.length-1),t=i[r],this.setState({measureValid:!0,displayMode:t})},t.childContextTypes={tools:d.object.isRequired,isFundamental:d.bool,chartApiInstance:d.object,availableTimeFrames:d.func,chartWidgetCollection:d.object,windowMessageService:d.object,favoriteChartStylesService:d.object,favoriteIntervalsService:d.object,customIntervalsService:d.object,favoriteStudyTemplatesService:d.object,studyTemplates:d.object,chartChangesWatcher:d.object,saveChartService:d.object,loadChartService:d.object,chartWidget:d.object},t.defaultProps={allowedModes:pe},t}(h.PureComponent)},1820:function(e,t,n){"use strict";function i(e,t,n,i){return c.__awaiter(this,void 0,void 0,function(){var a;return c.__generator(this,function(o){return a=new u.SaveRenameDialog({fields:[new h.InputField({name:L,label:e+":",error:t,maxLength:64})],title:n}),void 0!==i&&a.setField(L,i),[2,a.show().then(function(e){return e[L]})]})})}function a(e){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(t){return[2,i(O.labelRename,O.error,O.titleRename,e)]})})}function o(e){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(t){return[2,i(O.labelRename,O.error,O.titleCopy,O.valueCopy.format(e))]})})}function r(e){
return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(t){return[2,i(O.labelRename,O.error,O.titleNew,e)]})})}function s(e){"/chart/"===location.pathname&&(location.href="/chart/"+e)}function l(){return c.__awaiter(this,void 0,void 0,function(){return c.__generator(this,function(e){return[2,new Promise(function(e){f.enabled("saved_charts_count_restriction")&&!window.user.is_pro?Object(d.getCharts)(function(t){e(t.length<5)}):e(!0)})]})})}var c,u,h,d,f,_,p,v,m,b,y,g,S,C,w,E,M,A,W,k,R,O,L,T,V;Object.defineProperty(t,"__esModule",{value:!0}),c=n(1),u=n(1853),h=n(1852),d=n(554),f=n(3),_=n(26),p=n(25),v=n.n(p),m=n(2894),b=n.n(m),y=n(39),g=n(1936),S=function(e){function t(t,n){return e.call(this,t,n,"AUTO_SAVE_ENABLED_CHANGED","Chart.autoSaveEnabled",!0)||this}return c.__extends(t,e),t}(g.b),C=n(34),w=n(44),E=n(4),M=n.n(E),A=function(){function e(e,t,n){this._hasChanges=!1,this._undoHistory=e,this._chartSaver=t,this._globalEvents=n,this._onValueChanged=new M.a,this._subscribe()}return e.prototype.destroy=function(){this._unsubscribe(),this._onValueChanged.destroy()},e.prototype.hasChanges=function(){return this._hasChanges},e.prototype.getOnChange=function(){return this._onValueChanged},e.prototype._subscribe=function(){this._globalEvents.subscribe("chart_loaded",this._handleChartLoaded,this),this._undoHistory.undoStack().onChange().subscribe(this,this._handleChangeUndoStack),this._chartSaver.chartSaved().subscribe(this,this._handleChartSaved)},e.prototype._unsubscribe=function(){this._globalEvents.unsubscribe("chart_loaded",this._handleChartLoaded,this),this._undoHistory.undoStack().onChange().unsubscribe(this,this._handleChangeUndoStack),this._chartSaver.chartSaved().unsubscribe(this,this._handleChartSaved)},e.prototype._setChanges=function(e){this._hasChanges=e,this._onValueChanged.fire(e)},e.prototype._handleChartLoaded=function(){this._setChanges(!1)},e.prototype._handleChangeUndoStack=function(){var e=this._undoHistory.undoStack().head();e&&!e.customFlag("doesnt_affect_save")&&this._setChanges(!0)},e.prototype._handleChartSaved=function(e){e&&this._setChanges(!1)},e}(),W=n(100),k=n(19),R=n(2023),n.d(t,"SaveChartService",function(){return V}),O={labelName:window.t("Chart layout name"),labelRename:window.t("Enter a new chart layout name"),error:window.t("Please enter chart layout name"),titleNew:window.t("Save New Chart Layout"),titleRename:window.t("Rename Chart Layout"),titleCopy:window.t("Copy Chart Layout"),valueCopy:window.t("{0} copy",{context:"ex: AAPL chart copy"})},L="chart-title",T=6e4,V=function(){function e(e,t){this._autosaveTimer=null,this._watchedAutoSaveEnabled=new v.a,this._autoSaveEnabledSetting=new S(C.TVXWindowEvents,w),this._toggleAutoSaveEnabledHandler=this._toggleAutoSaveEnabled.bind(this),this._chartWidgetCollection=e,this._chartSaver=t,this._chartSaver.chartSizeLimitExceeded().subscribe(this,this._onChartSizeLimitExceeded),this._chartChangesWatcher=new A(e.undoHistory,t,W),e.saveKeysPressed().subscribe(this,this.saveChartOrShowTitleDialog)
;var n=this._autoSaveEnabledSetting.get();n&&this._enableAutoSave(),this._watchedAutoSaveEnabled.setValue(n),this._watchedAutoSaveEnabled.subscribe(this._toggleAutoSaveEnabledHandler),this._autoSaveEnabledSetting.getOnChange().subscribe(this,this._autoSaveEnabledSettingHandler)}return e.prototype.autoSaveEnabled=function(){return this._watchedAutoSaveEnabled},e.prototype.destroy=function(){this._watchedAutoSaveEnabled.unsubscribe(),delete this._watchedAutoSaveEnabled,this._autoSaveEnabledSetting.destroy(),delete this._autoSaveEnabledSetting},e.prototype.cloneChart=function(){return c.__awaiter(this,void 0,void 0,function(){var e,t,n;return c.__generator(this,function(i){switch(i.label){case 0:return e=this._chartWidgetCollection,[4,l()];case 1:return t=i.sent(),t?[4,o(e.metaInfo.name.value())]:[3,3];case 2:return n=i.sent(),this._saveCurrentChartAsNewWithTitle(n),[3,5];case 3:return[4,Object(y.createGoProDialog)({feature:"savedChartsLimit"})];case 4:i.sent().open(),i.label=5;case 5:return[2]}})})},e.prototype.saveChartAs=function(){Object(R.a)(this.cloneChart.bind(this),{source:"Clone chart"})},e.prototype.renameChart=function(){var e=this;Object(R.a)(function(){return c.__awaiter(e,void 0,void 0,function(){var e,t,n;return c.__generator(this,function(i){switch(i.label){case 0:return e=this._chartWidgetCollection,t=e.metaInfo.name.value(),[4,a(t)];case 1:return n=i.sent(),e.metaInfo.name.setValue(n),this._doSave(),[2]}})})},{source:"Rename chart"})},e.prototype.saveNewChart=function(e,t,n){return c.__awaiter(this,void 0,void 0,function(){var i,a,o,s;return c.__generator(this,function(c){switch(c.label){case 0:return i=this._chartWidgetCollection,a=i.metaInfo.name.value(),[4,l()];case 1:return o=c.sent(),o?[4,r(a)]:[3,3];case 2:return s=c.sent(),i.metaInfo.name.setValue(s),this._doSave(e,t,n),[3,5];case 3:return[4,Object(y.createGoProDialog)({feature:"savedChartsLimit"})];case 4:c.sent().open(),c.label=5;case 5:return[2]}})})},e.prototype.saveExistentChart=function(e,t,n){this._doSave(e,t,n)},e.prototype.saveChartOrShowTitleDialog=function(e,t,n){var i=this,a=window.saver.isSaveInProcess(),o=this._chartChangesWatcher.hasChanges(),r=!!this._chartWidgetCollection.metaInfo.id.value();window.is_authenticated&&(a||!o&&r)||Object(R.a)(function(){null!==i._chartWidgetCollection.metaInfo.id.value()?i.saveExistentChart(e,t,n):i.saveNewChart(e,t,n)},{source:"Save chart",sourceMeta:"Chart"})},e.prototype.whenReadyToSave=function(e){this._chartSaver.whenReadyToSave(e)},e.prototype.saveToJSON=function(){return this._chartSaver.saveToJSON()},e.prototype.saveChartSilently=function(e,t,n,i){this._chartSaver.saveChartSilently(e,t,n,i)},e.prototype.setAutoSaveEnabled=function(e){var t=this;window.is_authenticated&&window.saver.isSaveInProcess()||Object(R.a)(function(){e?Object(_.trackEvent)("Autosave","On"):Object(_.trackEvent)("Autosave","Off"),t._watchedAutoSaveEnabled.setValue(e)},{source:"AutoSave chart"})},e.prototype._autoSaveEnabledSettingHandler=function(e){this._watchedAutoSaveEnabled.setValue(e)},
e.prototype._toggleAutoSaveEnabled=function(e){e?this._enableAutoSave():this._disableAutoSave(),this._autoSaveEnabledSetting.set(e,{forceFlush:!0})},e.prototype._enableAutoSave=function(){this._chartChangesWatcher.getOnChange().subscribe(this,this._onStateChanged),this._chartChangesWatcher.hasChanges()&&this._doSave()},e.prototype._disableAutoSave=function(){this._stopAutosave(),this._chartChangesWatcher.getOnChange().unsubscribeAll(this)},e.prototype._onStateChanged=function(e){e?Object(k.isFeatureEnabled)("save_every_minute")?this._startAutosave():this._restartAutosave():this._stopAutosave()},e.prototype._saveCurrentChartAsNewWithTitle=function(e){var t=this._chartWidgetCollection;f.enabled("saveload_storage_customization")?(t.metaInfo.uid.deleteValue(),t.metaInfo.id.deleteValue(),t.metaInfo.name.setValue(e),this._doSave()):window.open("/chart/?clone="+t.metaInfo.uid.value()+"&name="+encodeURIComponent(e),"_blank")},e.prototype._doSave=function(e,t,n){var i=this._chartWidgetCollection;void 0!==e&&e(),this._chartSaver.saveChartSilently(function(e){Object(_.trackEvent)("GUI","Save Chart Layout"),s(i.metaInfo.uid.value()),b.a.instance&&b.a.instance.updateView(),void 0!==t&&t(e)},!1,function(){void 0!==n&&n()})},e.prototype._onChartSizeLimitExceeded=function(){var e=this._chartWidgetCollection.activeChartWidget.value();n.e(109).then(function(t){(0,n(2915).showSizeLimitExceededDialog)(e)}.bind(null,n)).catch(n.oe)},e.prototype._restartAutosave=function(){this._stopAutosave(),this._startAutosave()},e.prototype._startAutosave=function(){var e=this;f.enabled("charts_auto_save")&&null===this._autosaveTimer&&(this._autosaveTimer=setTimeout(function(){e._autosaveTimer=null,e._chartWidgetCollection.metaInfo.id.value()&&e._doSave()},T))},e.prototype._stopAutosave=function(){null!==this._autosaveTimer&&(clearInterval(this._autosaveTimer),this._autosaveTimer=null)},e}()},1834:function(e,t,n){"use strict";function i(e){return function(t){function n(e){var n=t.call(this,e)||this;return n._keyboardListener=new s,n._listener=n._keyboardListener.listen.bind(n._keyboardListener),n}return a.__extends(n,t),n.prototype.componentDidMount=function(){this._registerHandlers(this.props.keyboardEventHandlers)},n.prototype.componentWillReceiveProps=function(e){this.props.keyboardEventHandlers!==e.keyboardEventHandlers&&this._registerHandlers(e.keyboardEventHandlers)},n.prototype.render=function(){return o.createElement(e,a.__assign({},this.props,{onKeyDown:this._listener}))},n.prototype._registerHandlers=function(e){e&&(this._keyboardListener.deleteAllHandlers(),this._keyboardListener.registerHandlers(e))},n}(o.PureComponent)}var a,o,r,s;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s}),t.c=i,a=n(1),o=n(16),n.n(o),function(e){e[e.Enter=13]="Enter",e[e.Space=32]="Space",e[e.Backspace=8]="Backspace",e[e.DownArrow=40]="DownArrow",e[e.UpArrow=38]="UpArrow",e[e.RightArrow=39]="RightArrow",e[e.LeftArrow=37]="LeftArrow",e[e.Escape=27]="Escape",e[e.Tab=9]="Tab"}(r||(r={})),s=function(){function e(){this._handlers=new Map}
return e.prototype.registerHandlers=function(e){var t=this;Object.keys(e).forEach(function(n){var i,a=parseInt(n),o=e[a];Array.isArray(o)||(o=[o]),t._handlers.has(a)?(i=t._handlers.get(a))&&o.forEach(function(e){return i.add(e)}):t._handlers.set(a,new Set(o))})},e.prototype.unregisterHandlers=function(e){var t=this;Object.keys(e).forEach(function(n){var i,a=parseInt(n),o=e[a];Array.isArray(o)||(o=[o]),t._handlers.has(a)&&(i=t._handlers.get(a))&&o.forEach(function(e){return i.delete(e)})})},e.prototype.deleteAllHandlers=function(){this._handlers=new Map},e.prototype.registerHandler=function(e,t){if(this._handlers.has(e)){var n=this._handlers.get(e);n&&n.add(t)}else this._handlers.set(e,new Set([t]))},e.prototype.unregisterHandler=function(e,t){if(this._handlers.has(e)){var n=this._handlers.get(e);n&&n.delete(t)}},e.prototype.listen=function(e){if(this._handlers.has(e.keyCode)){var t=this._handlers.get(e.keyCode);t&&t.forEach(function(t){return t(e)})}},e}()},1847:function(e,t,n){"use strict";function i(){f.fire()}var a,o,r,s,l,c,u,h,d,f;n.d(t,"a",function(){return d}),t.b=i,a=n(1),o=n(16),n.n(o),r=n(62),n.n(r),s=n(5),n.n(s),l=n(37),c=n(1893),n.n(c),u=n(4),h=n.n(u),d=function(e){function t(t){var n=e.call(this,t)||this;return n._containerRef=null,n._scrollWrapRef=null,n._handleContainerRef=function(e){return n._containerRef=e},n._handleScrollWrapRef=function(e){return n._scrollWrapRef=e},n._handleMeasure=function(){var e,t,i,a,o,r,c,u,h,d,f,_,p,v,m,b,y;n.state.isMeasureValid||(e=n.props.position,t=Object(s.ensureNotNull)(n._containerRef),i=t.getBoundingClientRect(),a=document.documentElement.clientHeight,o=document.documentElement.clientWidth,r=a-10,c=i.height>r,c&&(u=Object(s.ensureNotNull)(n._scrollWrapRef),u.style.overflowY="scroll",i=t.getBoundingClientRect()),h=i.width,d=i.height,f="function"==typeof e?e(h,d):e,_=5,p=o-h-5,v=Object(l.clamp)(f.x,_,Math.max(_,p)),m=5,b=a-d-5,y=Object(l.clamp)(f.y,m,Math.max(m,b)),n.setState({appearingMenuHeight:c?r:void 0,appearingMenuWidth:f.overrideWidth,appearingPosition:{x:v,y:y},isMeasureValid:!0}))},n._handleGlobalClose=function(){n.props.onClose()},n.state={},n}return a.__extends(t,e),t.prototype.componentWillReceiveProps=function(e){this.props.isOpened&&!e.isOpened&&this.setState({isMeasureValid:void 0})},t.prototype.componentDidMount=function(){this._handleMeasure(),f.subscribe(this,this._handleGlobalClose)},t.prototype.componentDidUpdate=function(){this._handleMeasure()},t.prototype.componentWillUnmount=function(){f.unsubscribe(this,this._handleGlobalClose)},t.prototype.render=function(){var e,t=this.props,n=t.children,i=t.minWidth,a=t.theme,s=void 0===a?c:a,l=t.className,u=this.state,h=u.appearingMenuHeight,d=u.appearingMenuWidth,f=u.appearingPosition,_=u.isMeasureValid;return o.createElement("div",{className:r(l,s.menuWrap,(e={},e[s.isMeasuring]=!_,e)),style:{height:h,left:f&&f.x,minWidth:i,position:"fixed",top:f&&f.y,width:d},ref:this._handleContainerRef},o.createElement("div",{className:s.scrollWrap,style:{overflowY:void 0!==h?"scroll":"auto"},
ref:this._handleScrollWrapRef},o.createElement("div",{className:s.menuBox},n)))},t}(o.PureComponent),f=new h.a},1849:function(e,t,n){"use strict";function i(e){var t,n=e.icon,i=e.isActive,c=e.isOpened,u=e.isDisabled,h=e.onClick,d=e.text,f=e.textBeforeIcon,_=e.title,p=e.theme,v=void 0===p?l:p,m=e.className,b=e.forceInteractive,y=a.__rest(e,["icon","isActive","isOpened","isDisabled","onClick","text","textBeforeIcon","title","theme","className","forceInteractive"]),g=r(m,v.button,_&&"apply-common-tooltip",(t={},t[v.isActive]=i,t[v.isOpened]=c,t[v.isInteractive]=(b||!!h)&&!u,t[v.isDisabled]=u,t)),S=n&&("string"==typeof n?o.createElement(s.a,{className:v.icon,icon:n}):o.cloneElement(n,{className:v.icon}));return o.createElement("div",a.__assign({},y,{className:g,onClick:u?void 0:h,title:_}),f&&d&&o.createElement("div",{className:r("js-button-text",v.text)},d),S,!f&&d&&o.createElement("div",{className:r("js-button-text",v.text)},d))}var a,o,r,s,l;t.a=i,a=n(1),o=n(16),n.n(o),r=n(62),n.n(r),s=n(108),l=n(1855),n.n(l)},1852:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a;Object.defineProperty(t,"__esModule",{value:!0}),a=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),t.InputField=function(){function e(t){var n=t.label,a=t.name,o=t.maxLength,r=t.error,s=void 0===r?"":r;i(this,e),this._name=a,this._$field=$('<label class="tv-rename-chart-dialog__field">\n\t\t\t\t<span class="tv-rename-chart-dialog__label">'+n+'</span>\n\t\t\t\t<input class="tv-control-input" type="text" name="'+a+'" maxlength="'+o+'"/>\n\t\t\t</label>'),this._$input=this._$field.find("input"),this._error=s}return a(e,[{key:"appendTo",value:function(e){e.append(this._$field)}},{key:"focus",value:function(){return this._$input.focus()}},{key:"select",value:function(){return this.focus().select()}},{key:"value",set:function(e){this._$input.val(e)},get:function(){return this._$input.val()}},{key:"name",get:function(){return this._name}},{key:"valid",get:function(){return!!this._$input.val().trim()}},{key:"error",set:function(e){this._error=e},get:function(){return this._error}}]),e}()},1853:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,o,r,s;Object.defineProperty(t,"__esModule",{value:!0}),t.SaveRenameDialog=void 0,a=function(){function e(e,t){var n,i;for(n=0;n<t.length;n++)i=t[n],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n(1854),o=n(409),r={YES:"yes",CLOSE:"close"},s=0,t.SaveRenameDialog=function(){function e(){
var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fields,a=t.confirm,o=t.title,r=void 0===o?"":o,s=t.destroyOnClose,l=void 0===s||s,c=t.modal,u=void 0!==c&&c;i(this,e),this._$form=$("<div></div>"),this._fields=n,this._appendFieldsToForm(),this._title=r,this._destroyOnClose=l,this._modal=u,this._isConfirmDialogOpened=!1,a&&(this._needCheckConfirm=!0,this._shouldShowConfirm=a.shouldShowDialog,this._getConfirmMessage=a.getMessage)}return a(e,[{key:"setField",value:function(e,t){this._fields.find(function(t){return t.name===e}).value=t}},{key:"show",value:function(){var e=this,t=this._createDialog();return new Promise(function(n){t.then(function(t){t.on("action:submit",function(t){return e._onSubmit(t,n)}),t.open(),t.on("beforeClose",e._unmountFields.bind(e)),e._fields[s].select()})})}},{key:"_appendFieldsToForm",value:function(){var e=this;this._fields.forEach(function(t){t.appendTo(e._$form)})}},{key:"_createDialog",value:function(){var e=this;return new Promise(function(t){n.e(0).then(function(i){var a=n(30).createDialog;t(a({type:e._modal?"modal":"popup",title:e._title,content:e._$form,actionsWrapTemplate:'<div class="tv-dialog__section tv-dialog__section--actions i-align_right tv-dialog__section--no-border">',width:470,destroyOnClose:e._destroyOnClose,isClickOutFn:function(){if(e._isConfirmDialogOpened)return!1},actions:[{name:"submit",type:"primary",text:$.t("Save"),key:13,addClass:"js-submit-button"},{name:"cancel",type:"default",text:$.t("Cancel"),method:"close",addClass:"js-cancel-button"}]}))}.bind(null,n)).catch(n.oe)})}},{key:"_onSubmit",value:function(e,t){var n=this,i=this._validate();if(i)e.error(i.error),i.focus();else{if(!this._needCheckConfirm)return t(this._collectValues(),e),void e.close();Promise.resolve(this._shouldShowConfirm(this._collectValues())).then(function(i){if(!i)return t(n._collectValues(),e),void e.close();n._showConfirmDialog().then(function(i){i===r.CLOSE&&(e.focus(),n._fields[s].focus()),i===r.YES&&(t(n._collectValues(),e),e.close())})})}}},{key:"_showConfirmDialog",value:function(){var e=this;return new Promise(function(t){Promise.resolve(e._getConfirmMessage(e._collectValues())).then(function(n){e._isConfirmDialogOpened=!0,(0,o.createConfirmDialog)({type:"modal",content:n}).then(function(n){n.on("action:yes",function(e){t(r.YES),e.close()}),n.on("afterClose",function(){t(r.CLOSE),e._isConfirmDialogOpened=!1}),n.open()})})})}},{key:"_validate",value:function(){return this._fields.find(function(e){return!e.valid})}},{key:"_collectValues",value:function(){return this._fields.reduce(function(e,t){return e[t.name]=t.value,e},{})}},{key:"_unmountFields",value:function(){this._fields.forEach(function(e){e.unmount&&e.unmount()})}}]),e}()},1854:function(e,t){},1855:function(e,t){e.exports={button:"button-2ioYhFEY-",isInteractive:"isInteractive-20uLObIc-",hovered:"hovered-3perbaxJ-",isActive:"isActive-22S-lGpa-",isOpened:"isOpened-p-Ume5l9-",isDisabled:"isDisabled-1_tmrLfP-",text:"text-1sK7vbvh-",icon:"icon-beK_KS0k-"}},1870:function(e,t,n){"use strict";var i,a,o
;n.d(t,"a",function(){return o}),i=n(1),a=n(16),n.n(a),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._handleKeyDown=function(e){e.keyCode===t.props.keyCode&&t.props.handler(e)},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){document.addEventListener("keydown",this._handleKeyDown,!1)},t.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this._handleKeyDown,!1)},t.prototype.render=function(){return null},t}(a.PureComponent)},1893:function(e,t){e.exports={menuWrap:"menuWrap-1gEtmoET-",isMeasuring:"isMeasuring-FZ0EJCM2-",scrollWrap:"scrollWrap-1B5MfTJt-",menuBox:"menuBox-20sJGjtG-",isHidden:"isHidden-2vLQpR1t-"}},1936:function(e,t,n){"use strict";var i,a,o,r,s;n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s}),i=n(1),a=n(4),o=n.n(a),r=function(){function e(e,t,n,i,a){var r=this;this._onChange=new o.a,this._handleChange=function(){r._onChange.fire(r.get())},this._crossTabEvents=e,this._jsonKeyValueStore=t,this.CROSSTAB_EVENT_NAME=n,this.JSON_STORE_KEY=i,this.defaultStoreValue=this._serialize(a),this._subscribe()}return e.prototype.get=function(){var e=this._jsonKeyValueStore.getJSON(this.JSON_STORE_KEY,this.defaultStoreValue);return this._deserialize(e)},e.prototype.set=function(e,t){var n=this._serialize(e);this._jsonKeyValueStore.setJSON(this.JSON_STORE_KEY,n,t),this._crossTabEvents.emit(this.CROSSTAB_EVENT_NAME),this._onChange.fire(e)},e.prototype.getOnChange=function(){return this._onChange},e.prototype.destroy=function(){this._unsubscribe(),this._onChange.destroy(),delete this._onChange},e.prototype._subscribe=function(){this._crossTabEvents.on(this.CROSSTAB_EVENT_NAME,this._handleChange),this._jsonKeyValueStore.onSync.subscribe(this,this._handleChange)},e.prototype._unsubscribe=function(){this._crossTabEvents.off(this.CROSSTAB_EVENT_NAME,this._handleChange),this._jsonKeyValueStore.onSync.unsubscribe(this,this._handleChange)},e}(),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype._serialize=function(e){return e},t.prototype._deserialize=function(e){return e},t}(r)},2023:function(e,t,n){"use strict";function i(e,t){a.enabled("saveload_requires_authentication")?window.runOrSignIn(e,t):e()}var a;t.a=i,a=n(3),n.n(a)},2248:function(e,t,n){"use strict";function i(e,t,n,i){(0,a.createConfirmDialog)({type:"modal",content:document.createTextNode($.t("Do you really want to delete Chart Layout '{0}' ?").format(e)),addClass:"delete-chart-dialog"}).then(function(e){var a=function(){var e=i;i=null,e&&e()};e.on("action:yes",function(){i=null,o.removeChart(t,n),e.close()}),e.on("action:no",a),e.on("afterClose",a),e.open()})}var a,o;Object.defineProperty(t,"__esModule",{value:!0}),t.deleteChart=i,a=n(409),o=n(554)},2888:function(e,t){e.exports={group:"group-wWM3zP_M-",noLeftDecoration:"noLeftDecoration-15F5a1TB-",noRightDecoration:"noRightDecoration-2GcAAgVb-",noMinimalWidth:"noMinimalWidth-1sbl_ff5-"}},2889:function(e,t){e.exports={"css-value-header-toolbar-height":"38px",
wrap:"wrap-3tiHesTk-"}},2890:function(e,t){e.exports={wrap:"wrap-3K4w_7te-",icon:"icon-1dNdRXKB-"}},2891:function(e,t){e.exports={wrap:"wrap-1GG7GnNO-",scrollWrap:"scrollWrap-1icOiezT-",noScrollBar:"noScrollBar-2zw2auFK-",content:"content-3_f7yH29-",icon:"icon-2fZsO52g-",scrollLeft:"scrollLeft-3OUcqYWy-",scrollRight:"scrollRight-UDsPWprP-",isVisible:"isVisible-zZk7F7wr-",iconWrap:"iconWrap-1U8J-Qkw-",fadeLeft:"fadeLeft-31arUEZY-",fadeRight:"fadeRight-36gcjOQb-"}},2892:function(e,t){e.exports={fake:"fake-37paHC6T-",inner:"inner-v8eiKwdM-",subGroup:"subGroup-1JpgB9zD-",fill:"fill-2axUON87-",minimalPriority:"minimalPriority-1MGEuVHu-",button:"button-3xrjDzA4-",iconButton:"iconButton-3vyD3BPg-",hidden:"hidden-2kSvETGo-",symbolSearch:"symbolSearch-3I4QF1U_-"}},2893:function(e,t){e.exports={"css-value-header-toolbar-height":"38px",toolbar:"toolbar-2n2cwgp5-",isHidden:"isHidden-GTob3P_C-",overflowWrap:"overflowWrap-PWdgT-U_-",customButton:"customButton--jqJTfH5-",hovered:"hovered-1mGRUp3y-"}},2894:function(e,t,n){"use strict";function i(e){var t,n,o;if(i.instance)return i.instance;i.instance=this,t=this,a.symbol.subscribe(this._onSymbolChange.bind(this),{callWithLast:!0}),e.metaInfo.name.subscribe(this.updateView.bind(this)),this._chartWidgetCollection=e,this._notificationCount=0,this._tab_hidden=!1,void 0!==document.hidden?(n="hidden",o="visibilitychange"):void 0!==document.mozHidden?(n="mozHidden",o="mozvisibilitychange"):void 0!==document.msHidden?(n="msHidden",o="msvisibilitychange"):void 0!==document.webkitHidden&&(n="webkitHidden",o="webkitvisibilitychange"),$(document).bind(o,function(){t._tab_hidden=document[n],t._tab_hidden||(t._notificationCount=0,setTimeout(function(){t.updateView()},1e3))})}var a=n(121).linking,o=n(12).PriceFormatter,r=n(31).getQuoteSessionInstance;i.prototype.updateView=function(){var e,t,n=this._chartWidgetCollection&&this._chartWidgetCollection.metaInfo.name.value(),i=this._quoteData,a=[];this._symbol&&(e=i&&i.short_name||(this._symbol||"").replace(/\w+:/g,""),i&&i.last_price&&(this._formatter||(this._formatter=new o(i.pricescale||100,i.minmov||1,i.fractional,i.minmove2)),e+=": "+this._formatter.format(i.last_price),t=i.change_percent,t>0?e+=" ▲+"+t+"%":t<0?e+=" ▼−"+Math.abs(t)+"%":0===t&&(e+=" 0%")),a.push(e)),n&&a.push(n),0===a.length&&a.push("New Chart"),document.title=a.join(" — ")+" — TradingView"},i.prototype.addNotification=function(e){this._tab_hidden&&(this._notificationCount+=e||0),this.updateView()},i.prototype._onSymbolChange=function(e){var t,n=this;this._quoteData&&this._quoteData.original_name!==e&&this._quoteData.full_name!==e&&(delete this._quoteData,delete this._formatter),t=r("simple"),this._symbol&&(t.unsubscribe("ua-title",this._symbol),delete this._symbol),e&&(this._symbol=e,t.subscribe("ua-title",this._symbol,function(e){n._quoteData=e&&e.values,n.updateView()})),this.updateView()},i.prototype._symbol="",e.exports=i}});